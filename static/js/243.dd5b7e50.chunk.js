"use strict";(self.webpackChunkmy_app_u=self.webpackChunkmy_app_u||[]).push([[243],{2243:function(e,s,t){t.r(s),t.d(s,{default:function(){return Ne}});var a=t(885),n=t(2791),i=t(364),o=t(6871),r=t(7781),l=t(8683),c=t(184),u=t(1851),d=function(e){return e.profile.profile},_=function(e){return e.profile.status},m=function(e){return e.auth.id},f=function(e){return e.auth.isAuth},h=function(e){return e.app.testingMode},v=t(6214),j="ProfileStatus_status__N5qzw",x="ProfileStatus_input__GkRm0",p="ProfileStatus_statusBlock__bW46H",N="ProfileStatus_commonStatus__-7pb1",P="ProfileStatus_commonStatusDT__7iGii",g="ProfileStatus_statusDT__yFh6h",b=function(e){var s=e.isOwner,t=(0,i.v9)(h),o=(0,i.v9)(_),r=(0,i.I0)(),l=(0,n.useState)(!1),d=(0,a.Z)(l,2),m=d[0],f=d[1],v=(0,n.useState)(o),b=(0,a.Z)(v,2),k=b[0],D=b[1];(0,n.useEffect)((function(){D(o)}),[o]);return(0,c.jsxs)("div",{className:p,children:[(0,c.jsx)("div",{className:t?P+" "+N:N,children:"Status"}),!m&&(0,c.jsx)("span",{className:t?g+" "+j:j,onClick:function(){s&&f(!0)},children:o||"no status"}),m&&(0,c.jsx)("div",{children:(0,c.jsx)("input",{className:x,spellCheck:"false",onChange:function(e){D(e.currentTarget.value)},onBlur:function(){f(!1),r((0,u.OL)(k))},autoFocus:!0,value:k})})]})},k="ProfileData_description__d0gG6",D="ProfileData_fullPage__ZvFic",C="ProfileData_UsersPosts__-VQuZ",Z="ProfileData_userName__2u8Ri",y="ProfileData_avatar__iy7e1",S="ProfileData_avatarBlock__+9X4z",F="ProfileData_title__ZqW8I",I="ProfileData_editProfileButton__NgsWv",T="ProfileData_rightPartContainer__T8CQh",M="ProfileData_prop__p2k4a",B="ProfileData_propTitle__eYH-g",w="ProfileData_propDescription__gUqsi",E="ProfileData_leftPartContainer__50hyU",A="ProfileData_editProfileButtonDT__W0t+D",O="ProfileData_rightPartContainerDT__8IHXj",V="ProfileData_propTitleDT__E4fPO",q="ProfileData_propDescriptionDT__LENw9",W=t(7444),L="Contact_contactValue__-l0R3",J="Contact_contactTitle__QjIQi",Q="Contact_contact__-2ErT",H="Contact_contactDT__cYjEb",R=function(e){var s=e.contactTitle,t=e.contactValue,a=(0,i.v9)(W.AQ);return(0,c.jsxs)("div",{className:Q,children:[(0,c.jsxs)("div",{className:a?H+" "+J:J,children:[s,":"]}),(0,c.jsx)("div",{className:a?H+" "+L:L,children:t||"-"})]})},U=t(8986),X="MyPosts_postsBlock__srOM8",z="MyPosts_posts__3uHGW",G="MyPosts_newPostBlock__z9HqS",K="MyPosts_newPost__V4gla",Y="MyPosts_addPostButton__QKNet",$="MyPosts_postsBlockDT__2Cj9d",ee="MyPosts_addPostButtonDT__OV-E4",se={item:"Post_item__olsn3",avatar:"Post_avatar__7enE3",likes:"Post_likes__hbPSM",postInfo:"Post_postInfo__tX67u"},te=function(e){var s=e.avatar,t=e.message,a=e.likesCount;return(0,c.jsxs)("div",{className:se.item,children:[(0,c.jsx)("div",{className:se.avatar,children:(0,c.jsx)("img",{src:s,alt:""})}),(0,c.jsxs)("div",{className:se.postInfo,children:[(0,c.jsx)("div",{className:se.message,children:t}),(0,c.jsxs)("div",{className:se.likes,children:[a," \u2665 "]})]})]})},ae=t(704),ne=t(6139),ie=t(3079),oe=t(2497),re=(0,ie.F)(30),le=function(e){var s=e.handleSubmit,t=(0,i.v9)(h);return(0,c.jsxs)("form",{onSubmit:s,className:G,children:[(0,c.jsx)(ne.Z,{name:"postText",className:K,component:oe.gx,placeholder:"What`s new?",validate:[ie.C,re]}),(0,c.jsx)("button",{className:t?ee+" "+Y:Y,children:"Add post"})]})},ce=(0,ae.Z)({form:"addNewPostForm"})(le),ue=function(){var e=(0,i.v9)(h),s=(0,i.v9)((function(e){return e.profile.posts})),t=(0,i.I0)(),a=s.map((function(e){return(0,c.jsx)(te,{message:e.message,likesCount:e.likesCount,avatar:e.avatar},e.id)}));return(0,c.jsxs)("div",{className:e?$+" "+X:X,children:[(0,c.jsx)("h3",{children:"My posts"}),(0,c.jsx)(ce,{onSubmit:function(e){t((0,u.q2)(e.postText))}}),(0,c.jsx)("div",{className:z,children:a})]})},de=function(e){var s=e.isOwner,t=e.activateEditMode,o=(0,i.v9)(d),r=(0,i.v9)(h),l=(0,i.v9)(f),u=(0,n.useState)(!1),_=(0,a.Z)(u,2),m=_[0],v=_[1];return(0,c.jsxs)("div",{className:D,children:[s&&(0,c.jsx)("h1",{className:F,children:"My page"}),s&&(0,c.jsx)("button",{className:r?A+" "+I:I,onClick:t,children:"Edit pofile"}),(0,c.jsxs)("div",{className:k,children:[(0,c.jsxs)("div",{className:E,children:[(0,c.jsx)("div",{className:S,children:(0,c.jsx)("img",{className:y,src:o.photos.large||U,alt:""})}),(0,c.jsx)(b,{isOwner:s})]}),(0,c.jsxs)("div",{className:r?O+" "+T:T,children:[(0,c.jsxs)("div",{className:M,children:[(0,c.jsx)("div",{className:r?V+" "+B:B,children:"Nickname"}),(0,c.jsx)("div",{className:r?q+" "+w:w,children:o.fullName})]}),(0,c.jsxs)("div",{className:M,children:[(0,c.jsx)("div",{className:r?V+" "+B:B,children:"Looking for a job"}),(0,c.jsx)("div",{className:r?q+" "+w:w,children:o.lookingForAJob?"yes":"no"})]}),o.lookingForAJob&&(0,c.jsxs)("div",{className:M,children:[(0,c.jsx)("div",{className:r?V+" "+B:B,children:"My professional skills"}),(0,c.jsx)("div",{className:r?q+" "+w:w,children:o.lookingForAJobDescription})]}),(0,c.jsxs)("div",{className:M,children:[(0,c.jsx)("div",{className:r?V+" "+B:B,children:"About me"}),(0,c.jsx)("div",{className:r?q+" "+w:w,children:o.aboutMe||"nothing"})]}),(0,c.jsxs)("div",{className:M,children:[(0,c.jsx)("div",{className:r?V+" "+B:B,children:"Contacts"}),(0,c.jsx)("button",{className:r?A+" "+I:I,onClick:function(){v(!0!==m)},children:" Show contacts"}),m&&Object.keys(o.contacts).map((function(e){return(0,c.jsx)(R,{contactTitle:e,contactValue:o.contacts[e]},e)}))]})]})]}),s?(0,c.jsx)(ue,{}):l?(0,c.jsxs)("div",{className:C,children:[(0,c.jsx)("div",{className:Z,children:o.fullName}),"hasn't written any posts yet"]}):(0,c.jsxs)("div",{className:C,children:[(0,c.jsx)("div",{className:Z,children:o.fullName}),"Login to read posts"]})]})},_e="ProfileDataForm_editProfileBlock__8CVrK",me="ProfileDataForm_formField__1dfrR",fe="ProfileDataForm_loadFileButton__ZhcI9",he="ProfileDataForm_saveButton__w4lZj",ve="ProfileDataForm_formFieldDT__v8-Zd",je="ProfileDataForm_saveButtonDT__Pg4VI",xe=(0,ae.Z)({form:"editProfile"})((function(e){var s=e.handleSubmit,t=(0,i.v9)(d),a=(0,i.v9)(h),n=(0,i.I0)();return(0,c.jsx)("form",{onSubmit:s,children:(0,c.jsxs)("div",{className:a?ve+" "+me:me,children:[(0,c.jsx)("b",{children:"Change Avatar"}),(0,c.jsx)("input",{className:fe,type:"file",onChange:function(e){e.target.files.length&&n((0,u.zp)(e.target.files[0]))}}),(0,c.jsx)("b",{children:"Full name :"}),(0,c.jsx)(ne.Z,{name:"fullName",component:oe.II,validate:[],placeholder:"Full name"}),(0,c.jsxs)("div",{className:a?ve+" "+me:me,children:[(0,c.jsx)("b",{children:"Looking for a job :"}),(0,c.jsx)(ne.Z,{name:"lookingForAJob",component:"input",type:"checkbox",validate:[],placeholder:"Looking for a job"})]}),(0,c.jsxs)("div",{className:a?ve+" "+me:me,children:[(0,c.jsx)("b",{children:"Professional skills :"}),(0,c.jsx)(ne.Z,{name:"lookingForAJobDescription",component:oe.gx,validate:[],placeholder:"Professional skills"})]}),(0,c.jsxs)("div",{className:a?ve+" "+me:me,children:[(0,c.jsx)("b",{children:"About me :"}),(0,c.jsx)(ne.Z,{name:"aboutMe",component:oe.gx,validate:[],placeholder:"About me"})]}),(0,c.jsxs)("div",{className:a?ve+" "+me:me,children:[Object.keys(t.contacts).map((function(e){return(0,c.jsx)(R,{contactTitle:e,contactValue:(0,c.jsx)(ne.Z,{name:"contacts.".concat(e),component:oe.II,placeholder:"your ".concat(e," page URL")})},e)})),(0,c.jsx)("button",{className:a?je+" "+he:he,children:"Save"})]})]})})})),pe=function(e){var s=e.deactivateEditMode,t=(0,i.I0)();return(0,c.jsxs)("div",{className:_e,children:[(0,c.jsx)("h1",{children:"Edit profile mode"}),(0,c.jsx)(xe,{onSubmit:function(e){t((0,u.Ii)(e)).then((function(){s(!1)}))}})]})},Ne=(0,r.qC)((function(e){return function(s){var t=(0,o.bS)("/profile/:userId/");return(0,c.jsx)(e,(0,l.Z)((0,l.Z)({},s),{},{match:t}))}}))((function(){var e,s=(0,o.bS)("/profile/:userId"),t=(0,i.v9)(f),r=(0,i.I0)(),l=(0,i.v9)(m),_=(0,o.s0)();e=s?s.params.userId:l||void 0;var h=(0,n.useState)(!1),j=(0,a.Z)(h,2),x=j[0],p=j[1];(0,n.useEffect)((function(){void 0===e&&_("login",{replace:!0}),r((0,u.et)(e)),r((0,u.Tq)(e))}),[e]);var N=!(!t||22921!==e);return(0,i.v9)(d)?(0,c.jsx)("div",{children:x?(0,c.jsx)(pe,{deactivateEditMode:function(){p(!1)}}):(0,c.jsx)(de,{isOwner:N,activateEditMode:function(){p(!0)}})}):(0,c.jsx)(v.Z,{})}))},2497:function(e,s,t){t.d(s,{Jg:function(){return f},II:function(){return m},gx:function(){return _}});var a=t(8683),n=t(5987),i="formsConstrols_CheckBox__gXUjF",o="formsConstrols_rememberMe__8rnmp",r="formsConstrols_squere__BrXPc",l="formsConstrols_spanWrapper__2K-W2",c=(t(2791),t(184)),u=["input","meta"],d=["input","meta"],_=function(e){var s=e.input,t=(e.meta,(0,n.Z)(e,u));return(0,c.jsx)("span",{className:l,children:(0,c.jsx)("textarea",(0,a.Z)((0,a.Z)({},s),t))})},m=function(e){var s=e.input,t=(e.meta,(0,n.Z)(e,d));return(0,c.jsx)("span",{className:l,children:(0,c.jsx)("input",(0,a.Z)((0,a.Z)({},s),t))})},f=function(e){var s=e.input;return(0,c.jsxs)("div",{className:i,children:[(0,c.jsx)("input",(0,a.Z)({className:r,type:"checkBox"},s))," ",(0,c.jsx)("span",{className:o,children:"remember"})]})}},3079:function(e,s,t){t.d(s,{C:function(){return a},F:function(){return n}});var a=function(e){if(!e)return"Field is reguired"},n=function(e){return function(s){if(s.length>e)return"Max length is ".concat(e," symbols")}}},8986:function(e,s,t){e.exports=t.p+"static/media/cat.635a9fb09bf4880b1132.jpg"}}]);
//# sourceMappingURL=243.dd5b7e50.chunk.js.map